# Инструкция по деплою для публичного доступа

## Вариант 1: Render (Рекомендуется - бесплатный, постоянный)

### Шаги:

1. **Создайте аккаунт на Render:**
   - Перейдите на https://render.com
   - Зарегистрируйтесь через GitHub (бесплатно)

2. **Подключите репозиторий:**
   - В Dashboard нажмите "New +" → "Blueprint"
   - Подключите ваш GitHub репозиторий
   - Выберите файл `render.yaml` из корня проекта
   - Нажмите "Apply"

3. **Настройте переменные окружения:**
   - После создания сервисов, перейдите в настройки `astramind-backend`
   - В разделе "Environment" добавьте:
     - `GROQ_API_KEY` = ваш ключ из .env файла
   - В настройках `astramind-frontend`:
     - `NEXT_PUBLIC_API_BASE_URL` = URL вашего backend (будет вида `https://astramind-backend.onrender.com`)

4. **Деплой:**
   - Render автоматически начнет деплой
   - Дождитесь завершения (5-10 минут для первого раза)
   - Получите URL вида: `https://astramind-frontend.onrender.com`

**Примечание:** На бесплатном тарифе Render сервисы "засыпают" после 15 минут неактивности. Первый запрос после пробуждения может занять 30-60 секунд.

## Вариант 2: Быстрый доступ через ngrok (для тестирования)

### Быстрый запуск:
```bash
cd /Users/sasii/Code/projects/AstraMind
./start_public.sh
```

Скрипт автоматически:
- Проверит запущены ли контейнеры
- Запустит ngrok туннель
- Покажет публичный URL

### Ручная установка ngrok:
```bash
# macOS
brew install ngrok

# Или скачайте с https://ngrok.com/download
```

### Настройка ngrok (первый раз):
```bash
# Зарегистрируйтесь на https://ngrok.com (бесплатно)
# Получите токен и выполните:
ngrok config add-authtoken YOUR_TOKEN
```

### Запуск вручную:
```bash
# Убедитесь что контейнеры запущены
docker compose up -d

# Запустите ngrok
ngrok http 3000
```

Получите публичный URL (например: `https://abc123.ngrok.io`)

**Важно:** 
- ngrok бесплатный план имеет ограничения (время сессии, скорость)
- URL меняется при каждом перезапуске
- Для постоянного доступа используйте Render

## Вариант 3: Cloudflare Tunnel (бесплатный, без ограничений)

```bash
# Установка
brew install cloudflared

# Запуск
cloudflared tunnel --url http://localhost:3000
```

## Рекомендации

- **Для постоянного использования:** Render (бесплатный тариф)
- **Для быстрого тестирования:** ngrok или Cloudflare Tunnel
- **Для продакшена:** Render платный план или VPS

